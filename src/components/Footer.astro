<script is:inline>
  // Try to read previous visit time
  const lastVisit = localStorage.getItem('lastVisit');
  const now = new Date();
  
  // Format it cleanly (Indian style)
  const formattedNow = now.toLocaleString('en-IN', {
    weekday: 'short',
    day: '2-digit',
    month: 'short',
    hour: '2-digit',
    minute: '2-digit',
  });

  // Once the DOM is ready, update UI
  document.addEventListener('DOMContentLoaded', () => {
    const el = document.querySelector('.last-visit');
    if (!el) return;

    // Replace skeleton shimmer
    el.classList.remove(
      'animate-pulse',
      'bg-neutral-200',
      'h-4',
      'w-28',
      'mt-0.5',
      'rounded'
    );

    // Update text
    if (lastVisit) {
      el.textContent = `${lastVisit}`;
    } else {
      el.textContent = 'first visit ✨';
    }

    // Store current visit for next time
    localStorage.setItem('lastVisit', formattedNow);
  });
</script>

<footer
  class='mb-16 mt-12 flex animate-intro items-center justify-between opacity-0 [animation-delay:0.55s]'
>
  <div>
    <p class='flex items-center text-sm font-light text-neutral-500 dark:text-neutral-400'>
      Last visit from
      <span
        class='last-visit ml-1 mt-0.5 inline-block h-4 w-28 animate-pulse rounded bg-neutral-200'
      ></span>
    </p>
  </div>
  <div>
    <span class='text-sm font-light text-neutral-500 dark:text-neutral-400'>
      © 2025 Surya Nallaparaju
    </span>
  </div>
</footer>
